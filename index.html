<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>å…«æ–¹é›²é›†è¨‚å–®ç³»çµ±</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    body { font-family: "Microsoft JhengHei", sans-serif; margin: 0; padding: 1em; background: #f0f0f0; }
    .section { background: #fff; padding: 1em; border-radius: 6px; box-shadow: 0 0 8px rgba(0,0,0,0.1); margin-bottom: 20px; max-width: 700px; margin: auto; }
    h2 { text-align: center; color: #b30000; }
    label, select, input { font-size: 16px; margin: 0.3em 0; }
    table { width: 100%; border-collapse: collapse; margin-top: 1em; background: #fff; }
    th, td { border: 1px solid #ccc; padding: 6px; text-align: center; }
    th { background: #eee; }
    .footer { text-align: center; font-size: 18px; margin-top: 40px; line-height: 1.6; display: none; }
    .action-btn { margin-top: 1em; }
    @media print {
      .section input, .section select, .section button, .section label { display: none !important; }
      .footer { display: block; }
    }
  </style>
</head>
<body>
  <div class="section">
    <h2>å…«æ–¹é›²é›†é»é¤ç³»çµ±</h2>
    <label>é¸æ“‡å“é …ï¼š
      <select id="itemSelect">
        <option value="">è«‹é¸æ“‡</option>
      </select>
    </label>
    <br>
    <label>æ•¸é‡ï¼ˆä»½/é¡†ï¼‰ï¼š
      <input type="number" id="itemQty" min="1" value="1" />
    </label>
    <br>
    <button onclick="addItem()">åŠ å…¥è¨‚å–®</button>
    <button onclick="clearOrders()" class="action-btn">æ¸…é™¤æ‰€æœ‰è¨‚å–®</button>
    <div id="orderTable"></div>
  </div>

  <div class="footer">
    <div>å¤§ç‘ç§‘æŠ€</div>
    <div>åœ°å€: é«˜é›„å¸‚å¤§å¯®å€é³³æ—äºŒè·¯532è™Ÿ</div>
    <div>é›»è©±: (07)7871875</div>
  </div>

  <script>
    const menu = {
      "æ‹›ç‰Œé‹è²¼(1ç²’)": 7, "éŸ­èœé‹è²¼(1ç²’)": 7, "éŸ“å¼è¾£å‘³é‹è²¼(1ç²’)": 7,
      "å’–å“©é›è‚‰é‹è²¼(1ç²’)": 7, "ç‰ç±³é‹è²¼(1ç²’)": 7, "æ–°ç–é£Ÿé‹è²¼(1ç²’)": 7.5,
      "æ‹›ç‰Œæ°´é¤ƒ(1ç²’)": 7, "éŸ­èœæ°´é¤ƒ(1ç²’)": 7, "éŸ“å¼è¾£å‘³æ°´é¤ƒ(1ç²’)": 7,
      "å’–å“©é›è‚‰æ°´é¤ƒ(1ç²’)": 7, "ç‰ç±³æ°´é¤ƒ(1ç²’)": 7, "æ–°ç–é£Ÿæ°´é¤ƒ(1ç²’)": 7.5,
      "é®®è¦æ°´é¤ƒ(1ç²’)": 10.5
    };

    const orders = {};

    window.onload = () => {
      const sel = document.getElementById("itemSelect");
      for (let item in menu) {
        sel.innerHTML += `<option value="${item}">${item}ï¼ˆ$${menu[item]}ï¼‰</option>`;
      }
      renderTable();
    };

    function addItem() {
      const item = document.getElementById("itemSelect").value;
      const qty = parseInt(document.getElementById("itemQty").value);
      if (!item || qty <= 0) return;

      if (!orders[item]) orders[item] = [];
      orders[item].push(qty);
      renderTable();
    }

    function deleteItem(item, index) {
      orders[item].splice(index, 1);
      if (orders[item].length === 0) delete orders[item];
      renderTable();
    }

    function clearOrders() {
      if (confirm("ç¢ºå®šè¦æ¸…é™¤æ‰€æœ‰è¨‚å–®å—ï¼Ÿ")) {
        for (let key in orders) delete orders[key];
        renderTable();
      }
    }

    function renderTable() {
      let html = "<table><tr><th>å“é …</th><th>æ˜ç´°</th><th>å–®åƒ¹</th><th>å°è¨ˆ</th><th>æ“ä½œ</th></tr>";
      let total = 0;

      for (let item in orders) {
        const unitPrice = menu[item];
        const rows = orders[item].map((qty, idx) => {
          const subtotal = qty * unitPrice;
          total += subtotal;
          return `<div>${qty} é¡† - $${subtotal} <button onclick="deleteItem('${item}', ${idx})">ğŸ—‘ï¸</button></div>`;
        }).join("");
        const itemTotal = orders[item].reduce((sum, q) => sum + q * unitPrice, 0);
        html += `<tr>
          <td>${item}</td>
          <td>${rows}</td>
          <td>$${unitPrice}</td>
          <td>$${itemTotal}</td>
          <td></td>
        </tr>`;
      }

      html += `<tr><td colspan="4">ç¸½é‡‘é¡</td><td>$${total}</td></tr></table>`;
      html += `<button onclick="window.print()">åˆ—å°çµ±è¨ˆè¡¨</button>`;
      document.getElementById("orderTable").innerHTML = html;
    }
  </script>
</body>
</html>
